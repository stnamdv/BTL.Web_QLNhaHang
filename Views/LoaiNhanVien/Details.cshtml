@model BTL.Web.Models.LoaiNhanVienDetails

@{
    ViewData["Title"] = "Chi tiết loại nhân viên";
}

<h1>Chi tiết loại nhân viên</h1>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">Thông tin loại nhân viên</h5>
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-4">Loại nhân viên:</dt>
                    <dd class="col-sm-8">
                        @switch (Model.loai_nv)
                        {
                            case "BEP":
                                <span class="badge bg-warning">Đầu bếp</span>
                                break;
                            case "PHUC_VU":
                                <span class="badge bg-info">Phục vụ</span>
                                break;
                            case "DICH_VU":
                                <span class="badge bg-success">Dịch vụ</span>
                                break;
                            case "THU_NGAN":
                                <span class="badge bg-primary">Thu ngân</span>
                                break;
                            default:
                                <span class="badge bg-secondary">@Model.loai_nv</span>
                                break;
                        }
                    </dd>

                    <dt class="col-sm-4">Lương cơ bản:</dt>
                    <dd class="col-sm-8">@Model.luong_co_ban.ToString("N0") VNĐ</dd>

                    <dt class="col-sm-4">Tổng nhân viên:</dt>
                    <dd class="col-sm-8">
                        <span class="badge bg-info">@Model.total_employees người</span>
                    </dd>

                    <dt class="col-sm-4">Nhân viên hoạt động:</dt>
                    <dd class="col-sm-8">
                        <span class="badge bg-success">@Model.active_employees người</span>
                    </dd>
                </dl>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">Danh sách nhân viên thuộc loại này</h5>
            </div>
            <div class="card-body">
                @if (ViewBag.Employees != null && ((IEnumerable<BTL.Web.Models.NhanVienInfo>)ViewBag.Employees).Any())
                {
                    <div class="table-responsive">
                        <table class="table table-sm">
                            <thead>
                                <tr>
                                    <th>Họ tên</th>
                                    <th>Trạng thái</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var employee in (IEnumerable<BTL.Web.Models.NhanVienInfo>)ViewBag.Employees)
                                {
                                    <tr>
                                        <td>@employee.ho_ten</td>
                                        <td>
                                            @if (employee.trang_thai == "ACTIVE")
                                            {
                                                <span class="badge bg-success">Hoạt động</span>
                                            }
                                            else
                                            {
                                                <span class="badge bg-secondary">@employee.trang_thai</span>
                                            }
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                }
                else
                {
                    <p class="text-muted">Chưa có nhân viên nào thuộc loại này.</p>
                }
            </div>
        </div>
    </div>
</div>

<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.loai_nv" class="btn btn-warning">Sửa</a>
    <a asp-action="Delete" asp-route-id="@Model.loai_nv" class="btn btn-danger">Xóa</a>
    <a asp-action="Index" class="btn btn-secondary">Quay lại</a>
</div>
